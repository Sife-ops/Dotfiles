module main

import "./mcsr.pkl"
import "./setup.pkl"

shebang = "#!/usr/bin/env ansible-playbook\n"
dashes = "---\n"
r = new YamlRenderer{}

output {
    files {

        ["mcsr/mcsr_install.yml"] {
            text = "\(shebang)\(dashes)\(r.renderDocument(mcsr.install))"
        }

        ["mcsr/mcsr_start.yml"] {
            text = "\(shebang)\(dashes)\(r.renderDocument(mcsr.start))"
        }

        ["setup/setup_todo.yml"] {
            text = "\(shebang)\(dashes)\(r.renderDocument(setup.todo))"
        }

        ["setup/setup_00.yml"] {
            text = "\(shebang)\(dashes)\(r.renderDocument(setup.pb00))"
        }

        ["setup/setup_01.yml"] {
            text = "\(shebang)\(dashes)\(r.renderDocument(setup.pb01))"
        }

        // ["roles/docker/tasks/main.yml"] {
        //     text = "\(dashes)\(r.renderDocument(roles.docker))"
        // }

    }
}

